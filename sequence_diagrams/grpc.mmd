sequenceDiagram
    participant C as ðŸ–¥ï¸ Client
    participant S as ðŸš€ gRPC Server
    participant AI as ðŸ¤– GenAI Model

    Note over C, AI: ðŸ” Server Health Check (Unary RPC)
    C->>+S: GetServerStats()
    S-->>-C: âœ… ServerStatsResponse<br/>ðŸ©º {uptime, model, framework}
    
    Note over C, AI: ðŸ”Œ gRPC Connection
    C->>S: ðŸ“¡ Establish gRPC Channel<br/>ðŸŒ localhost:50051
    Note over S: ðŸ¤ Accept gRPC connection
    
    Note over C, AI: ðŸ†• Session Creation (Unary RPC)
    C->>+S: CreateSession(model_id)
    S-->>-C: âœ… CreateSessionResponse<br/>ðŸ”‘ {session_id, model, success}
    
    Note over C, AI: ðŸš€ Bidirectional Streaming Chat
    rect rgb(240, 248, 255)
        C->>+S: Chat() - Bidirectional Stream<br/>ðŸ“ ChatRequest{MESSAGE, session_id, message}
        
        S-->>C: ðŸ“¨ ChatResponse{STATUS}<br/>ðŸ’­ "Generating response..."
        
        S->>+AI: generate_response<br/>ðŸ§  message + history
        AI-->>-S: ðŸ“„ complete response
        
        S-->>C: ðŸ“¨ ChatResponse{RESPONSE_START}<br/>ðŸš€ stream beginning
        
        loop ðŸš€ Word-by-word Streaming
            Note over S: ðŸ“ Split response into words
            S-->>C: ðŸ“¨ ChatResponse{CHUNK}<br/>âœ¨ {chunk_text, chunk_number}
            Note over C: ðŸ–¨ï¸ Display word immediately
        end
        
        S-->>-C: ðŸ“¨ ChatResponse{RESPONSE_COMPLETE}<br/>âœ… {total_chunks, processing_time}
    end
    
    Note over C, AI: ðŸ“Š Session Management (Unary RPCs)
    C->>+S: GetSessionInfo(session_id)
    S-->>-C: âœ… SessionInfoResponse<br/>ðŸ“‹ session details
    
    C->>+S: ListSessions()
    S-->>-C: âœ… ListSessionsResponse<br/>ðŸ“‹ {sessions[], active_count}
    
    C->>+S: DeleteSession(session_id)
    S-->>-C: âœ… DeleteSessionResponse<br/>ðŸ—‘ï¸ {success, message}
    
    Note over C, AI: ðŸ”Œ gRPC Disconnection
    C->>S: ðŸ”š Close gRPC Channel
    Note over S: ðŸ§¹ Cleanup resources